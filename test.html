<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Draw Line Between Containers with jQuery</title>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<style>
			#container1,
			#container2 {
				width: 100px;
				height: 100px;
				position: absolute;
				background-color: lightblue;
			}
			#container1 {
				left: 50px;
				top: 50px;
			}
			#container2 {
				left: 300px;
				top: 300px;
			}
			canvas {
				position: absolute;
				z-index: -1;
			}
		</style>
	</head>
	<body>
		<div id="container1"></div>
		<div id="container2"></div>
		<canvas id="myCanvas" width="500" height="500"></canvas>

		<script>
			$(document).ready(function () {
				const canvas = $("#myCanvas")[0]; // Get canvas element
				const ctx = canvas.getContext("2d"); // Get canvas context

				function drawLine() {
					const container1 = $("#container1");
					const container2 = $("#container2");

					// Get container positions and calculate centers
					const container1Pos = container1.offset();
					const container2Pos = container2.offset();

					const center1 = {
						x: container1Pos.left + container1.width() / 2,
						y: container1Pos.top + container1.height() / 2,
					};

					const center2 = {
						x: container2Pos.left + container2.width() / 2,
						y: container2Pos.top + container2.height() / 2,
					};

					// Clear the canvas before drawing
					ctx.clearRect(0, 0, canvas.width, canvas.height);

					// Draw the line between centers of the two containers
					ctx.beginPath();
					ctx.moveTo(center1.x, center1.y);
					ctx.lineTo(center2.x, center2.y);
					ctx.stroke();
				}

				// Call drawLine function
				drawLine();
			});
		</script>
	</body>
</html>
